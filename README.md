
<!-- README.md is generated from README.Rmd. Please edit that file -->

# maximal-room-squares

<!-- badges: start -->
<!-- badges: end -->

``` r
library(dplyr)

set.seed(55)

n <- 16

# an empty tidy room square grid
R <- expand_grid(row = 1:(n - 1), col = 1:(n - 1)) %>%
  mutate(first = as.integer(NA), second = as.integer(NA)) %>%
  pivot_longer(first:second)
```

``` r
library(tictoc)

tic()
# go through each symbol and try to place it in a cell
# this can be the basis of is_maximal
# i.e. run through this loop once and return true iff
# no more cells are filled during the loop. i.e. the
# empty cells after are precisely the empty cells before

while(!is_maximal_room(R)) {
  for(p in not_used_pairs(R)) {
  
  # try to find a hole
  x <- first_available_cell(R, p)
  
  # if we were successful then fill that hole
  if(!is.null(x))  {
    R <- update_(R, x, p)
  }
  
  csv_line <- paste(x[1], x[2], p[1], p[2], volume(R), sep = ", ")
  message(csv_line)
  
  }
}
#> 1, 6, 0, 1, 0.008333
#> 5, 8, 0, 2, 0.016667
#> 11, 9, 0, 3, 0.025
#> 4, 1, 0, 4, 0.033333
#> 3, 4, 0, 5, 0.041667
#> 13, 14, 0, 6, 0.05
#> 6, 15, 0, 7, 0.058333
#> 7, 11, 0, 8, 0.066667
#> 2, 10, 0, 9, 0.075
#> 15, 3, 0, 10, 0.083333
#> 14, 7, 0, 11, 0.091667
#> 8, 12, 0, 12, 0.1
#> 9, 13, 0, 13, 0.108333
#> 10, 2, 0, 14, 0.116667
#> 12, 5, 0, 15, 0.125
#> 3, 13, 1, 2, 0.133333
#> 5, 11, 1, 3, 0.141667
#> 12, 15, 1, 4, 0.15
#> 13, 10, 1, 5, 0.158333
#> 7, 5, 1, 6, 0.166667
#> 14, 8, 1, 7, 0.175
#> 9, 9, 1, 8, 0.183333
#> 10, 7, 1, 9, 0.191667
#> 4, 4, 1, 10, 0.2
#> 6, 2, 1, 11, 0.208333
#> 15, 14, 1, 12, 0.216667
#> 2, 3, 1, 13, 0.225
#> 8, 1, 1, 14, 0.233333
#> 11, 12, 1, 15, 0.241667
#> 4, 12, 2, 3, 0.25
#> 11, 6, 2, 4, 0.258333
#> 15, 15, 2, 5, 0.266667
#> 10, 1, 2, 6, 0.275
#> 8, 5, 2, 7, 0.283333
#> 6, 3, 2, 8, 0.291667
#> 1, 4, 2, 9, 0.3
#> 2, 11, 2, 10, 0.308333
#> 7, 14, 2, 11, 0.316667
#> 12, 7, 2, 12, 0.325
#> 14, 9, 2, 13, 0.333333
#> 9, 10, 2, 14, 0.341667
#> 13, 2, 2, 15, 0.35
#> 2, 2, 3, 4, 0.358333
#> 14, 5, 3, 5, 0.366667
#> 8, 15, 3, 6, 0.375
#> 7, 4, 3, 7, 0.383333
#> 3, 7, 3, 8, 0.391667
#> 12, 8, 3, 9, 0.4
#> 6, 10, 3, 10, 0.408333
#> 15, 6, 3, 11, 0.416667
#> 9, 1, 3, 12, 0.425
#> 1, 14, 3, 13, 0.433333
#> 13, 3, 3, 14, 0.441667
#> 10, 13, 3, 15, 0.45
#> 9, 12, 4, 5, 0.458333
#> 6, 13, 4, 6, 0.466667
#> 10, 11, 4, 7, 0.475
#> 1, 5, 4, 8, 0.483333
#> 13, 9, 4, 9, 0.491667
#> 3, 8, 4, 10, 0.5
#> 8, 10, 4, 11, 0.508333
#> 14, 4, 4, 12, 0.516667
#> 15, 7, 4, 13, 0.525
#> 5, 14, 4, 14, 0.533333
#> 7, 3, 4, 15, 0.541667
#> 5, 7, 5, 6, 0.55
#> 12, 9, 5, 7, 0.558333
#> 11, 13, 5, 8, 0.566667
#> 4, 6, 5, 9, 0.575
#> 1, 1, 5, 10, 0.583333
#> 10, 3, 5, 11, 0.591667
#> 6, 11, 5, 12, 0.6
#> 8, 8, 5, 13, 0.608333
#> , , 5, 14, 0.608333
#> 2, 14, 5, 15, 0.616667
#> 3, 3, 6, 7, 0.625
#> 2, 12, 6, 8, 0.633333
#> 15, 2, 6, 9, 0.641667
#> 9, 6, 6, 10, 0.65
#> 11, 8, 6, 11, 0.658333
#> 4, 9, 6, 12, 0.666667
#> 12, 11, 6, 13, 0.675
#> , , 6, 14, 0.675
#> 1, 10, 6, 15, 0.683333
#> 5, 1, 7, 8, 0.691667
#> 11, 14, 7, 9, 0.7
#> 13, 13, 7, 10, 0.708333
#> 1, 12, 7, 11, 0.716667
#> 2, 6, 7, 12, 0.725
#> 4, 10, 7, 13, 0.733333
#> , , 7, 14, 0.733333
#> 9, 7, 7, 15, 0.741667
#> 14, 15, 8, 9, 0.75
#> 12, 2, 8, 10, 0.758333
#> 13, 4, 8, 11, 0.766667
#> 10, 10, 8, 12, 0.775
#> , , 8, 13, 0.775
#> 4, 8, 8, 14, 0.783333
#> 8, 6, 8, 15, 0.791667
#> 7, 12, 9, 10, 0.8
#> 9, 5, 9, 11, 0.808333
#> 5, 3, 9, 12, 0.816667
#> 3, 1, 9, 13, 0.825
#> , , 9, 14, 0.825
#> , , 9, 15, 0.825
#> 5, 15, 10, 11, 0.833333
#> 11, 5, 10, 12, 0.841667
#> , , 10, 13, 0.841667
#> , , 10, 14, 0.841667
#> , , 10, 15, 0.841667
#> , , 11, 12, 0.841667
#> , , 11, 13, 0.841667
#> 2, 9, 11, 14, 0.85
#> 4, 11, 11, 15, 0.858333
#> 13, 15, 12, 13, 0.866667
#> 7, 13, 12, 14, 0.875
#> , , 12, 15, 0.875
#> 6, 6, 13, 14, 0.883333
#> 5, 4, 13, 15, 0.891667
#> 3, 15, 14, 15, 0.9

toc()
#> 2.836 sec elapsed
```

``` r
is_partial_room(R)
#> [1] TRUE
```

``` r
is_maximal_room(R)
#> [1] TRUE
```

![](figure/plot-1.png)<!-- -->
